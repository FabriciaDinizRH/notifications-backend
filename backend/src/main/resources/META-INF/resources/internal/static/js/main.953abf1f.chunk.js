(this.webpackJsonpinternal=this.webpackJsonpinternal||[]).push([[0],{429:function(e,t,a){},639:function(e,t,a){"use strict";a.r(t);a(333);var n,i,l=a(59),r=a(6),o=a.n(r),c=a(133),s=a.n(c),u=a(76),d=a(192),p=a(15),m=(a(429),a(700)),b=a(685),j=a(322),y=a(659),v=a(419),h=a(253),_=a(690),f=a(417),O=a(103),g=a(656),E=a(686),x=a(660),R=a(658),T=a(17),w="\n// Here we can initialize the value of the Aggregation result.\nconst result = {\n};\n\n// This function will be called by every action that was sent to notification server\n// to update the result with its values.\nconst aggregate = (action) => {\n\n    return result;\n};\n".trimLeft(),I=a(8),C=a.n(I),V=a(147),A=a(664),B=a(665),G=a(693),N=a(694),P=a(284),S=a(204),k=a(670),q=a(671),D=a(691),L=a(666),M=a(667),U=a(688),F=a(668),H=a(687),z=a(63),Q=r.createContext({isAdmin:!1,applications:[],roles:[],refresh:function(){throw new Error("Invalid use of refresh")}}),J=function(){var e=Object(r.useContext)(Q),t=Object(r.useCallback)((function(t){return!!e.isAdmin||void 0!==e.applications.find((function(e){return e.id===t}))}),[e]);return Object(z.a)(Object(z.a)({},e),{},{hasPermission:t})},Y=a(669),W=a(30),$=a(31);!function(e){e.AddAccessRequest=$.f({application_id:f().optional().nullable(),role:$.h().optional().nullable()}).nonstrict(),e.AddApplicationRequest=$.f({bundle_id:f(),display_name:$.h(),name:$.h(),owner_role:$.h().optional().nullable()}).nonstrict(),e.AggregationEmailTemplate=$.f({application:a().optional().nullable(),application_id:f().optional().nullable(),body_template:_().optional().nullable(),body_template_id:f(),created:$.h().optional().nullable(),id:f().optional().nullable(),subject_template:_().optional().nullable(),subject_template_id:f(),subscription_type:s(),updated:$.h().optional().nullable()}).nonstrict(),e.Application=t(),e.Application1=a(),e.BasicAuthentication=n(),e.BehaviorGroup=$.f({actions:$.a(i()).optional().nullable(),bundle:r().optional().nullable(),bundle_id:f(),created:$.h().optional().nullable(),default_behavior:$.b().optional().nullable(),display_name:$.h(),id:f().optional().nullable(),updated:$.h().optional().nullable()}).nonstrict(),e.BehaviorGroupAction=i(),e.BehaviorGroupActionId=l(),e.Bundle=r(),e.CamelProperties=o(),e.CurrentStatus=$.f({end_time:$.h().optional().nullable(),start_time:$.h().optional().nullable(),status:h()}).nonstrict(),e.EmailSubscriptionProperties=c(),e.EmailSubscriptionType=s(),e.Endpoint=u(),e.EndpointPage=$.f({data:$.a(u()),links:$.g($.h()),meta:v()}).nonstrict(),e.EndpointProperties=$.j(),e.EndpointType=d(),e.Environment=p(),e.EventLogEntry=m(),e.EventLogEntryAction=b(),e.EventType=j(),e.Facet=function e(){return $.f({children:$.a($.d((function(){return e()}))).optional().nullable(),displayName:$.h(),id:$.h(),name:$.h()}).nonstrict()}(),e.HttpType=y(),e.InstantEmailTemplate=$.f({body_template:_().optional().nullable(),body_template_id:f(),created:$.h().optional().nullable(),event_type:j().optional().nullable(),event_type_id:f().optional().nullable(),id:f().optional().nullable(),subject_template:_().optional().nullable(),subject_template_id:f(),updated:$.h().optional().nullable()}).nonstrict(),e.InternalApplicationUserPermission=$.f({application_display_name:$.h(),application_id:f(),role:$.h()}).nonstrict(),e.InternalRoleAccess=$.f({application_id:f(),id:f().optional().nullable(),role:$.h()}).nonstrict(),e.InternalUserPermissions=$.f({applications:$.a(t()),is_admin:$.b(),roles:$.a($.h())}).nonstrict(),e.MessageValidationResponse=$.f({errors:$.g($.a($.h()))}).nonstrict(),e.Meta=v(),e.NotificationHistory=$.f({created:$.h().optional().nullable(),details:$.g($.j()).optional().nullable(),endpointId:f().optional().nullable(),endpointSubType:$.h().optional().nullable(),endpointType:d().optional().nullable(),id:f().optional().nullable(),invocationResult:$.b(),invocationTime:$.e().int()}).nonstrict(),e.PageEventLogEntry=$.f({data:$.a(m()),links:$.g($.h()),meta:v()}).nonstrict(),e.PageEventType=$.f({data:$.a(j()),links:$.g($.h()),meta:v()}).nonstrict(),e.RenderEmailTemplateRequest=$.f({body_template:$.h(),payload:$.h(),subject_template:$.h()}).nonstrict(),e.RequestDefaultBehaviorGroupPropertyList=$.f({ignore_preferences:$.b(),only_admins:$.b()}).nonstrict(),e.RequestEmailSubscriptionProperties=$.f({group_id:f().optional().nullable(),only_admins:$.b()}).nonstrict(),e.ServerInfo=$.f({environment:p().optional().nullable()}).nonstrict(),e.Status=h(),e.Template=_(),e.UUID=f(),e.WebhookProperties=O(),e.__Empty=$.h().max(0).optional();function t(){return $.f({display_name:$.h(),id:f()}).nonstrict()}function a(){return $.f({bundle_id:f(),created:$.h().optional().nullable(),display_name:$.h(),id:f().optional().nullable(),name:$.h(),updated:$.h().optional().nullable()}).nonstrict()}function n(){return $.f({password:$.h().optional().nullable(),username:$.h().optional().nullable()}).nonstrict()}function i(){return $.f({created:$.h().optional().nullable(),endpoint:u().optional().nullable(),id:l().optional().nullable()}).nonstrict()}function l(){return $.f({behaviorGroupId:f(),endpointId:f()}).nonstrict()}function r(){return $.f({created:$.h().optional().nullable(),display_name:$.h(),id:f().optional().nullable(),name:$.h(),updated:$.h().optional().nullable()}).nonstrict()}function o(){return $.f({basic_authentication:n().optional().nullable(),disable_ssl_verification:$.b(),extras:$.g($.h()).optional().nullable(),secret_token:$.h().optional().nullable(),sub_type:$.h().optional().nullable(),url:$.h()}).nonstrict()}function c(){return $.f({group_id:f().optional().nullable(),ignore_preferences:$.b(),only_admins:$.b()}).nonstrict()}function s(){return $.c(["INSTANT","DAILY"])}function u(){return $.f({created:$.h().optional().nullable(),description:$.h(),enabled:$.b().optional().nullable(),id:f().optional().nullable(),name:$.h(),properties:$.i([O(),c(),o()]).optional().nullable(),sub_type:$.h().optional().nullable(),type:d(),updated:$.h().optional().nullable()}).nonstrict()}function d(){return $.c(["webhook","email_subscription","default","camel"])}function p(){return $.c(["PROD","STAGE","EPHEMERAL","LOCAL_SERVER"])}function m(){return $.f({actions:$.a(b()),application:$.h(),bundle:$.h(),created:$.h(),event_type:$.h(),id:f(),payload:$.h().optional().nullable()}).nonstrict()}function b(){return $.f({details:$.g($.j()).optional().nullable(),endpoint_id:f().optional().nullable(),endpoint_sub_type:$.h().optional().nullable(),endpoint_type:d(),id:f(),invocation_result:$.b()}).nonstrict()}function j(){return $.f({application:a().optional().nullable(),application_id:f(),description:$.h().optional().nullable(),display_name:$.h(),id:f().optional().nullable(),name:$.h()}).nonstrict()}function y(){return $.c(["GET","POST","PUT"])}function v(){return $.f({count:$.e().int()}).nonstrict()}function h(){return $.c(["UP","MAINTENANCE"])}function _(){return $.f({created:$.h().optional().nullable(),data:$.h(),description:$.h(),id:f().optional().nullable(),name:$.h(),updated:$.h().optional().nullable()}).nonstrict()}function f(){return $.h()}function O(){return $.f({basic_authentication:n().optional().nullable(),disable_ssl_verification:$.b(),method:y(),secret_token:$.h().optional().nullable(),url:$.h()}).nonstrict()}}(n||(n={})),function(e){var t,a,i,r,o,c,s,u,d,p,m,b,j,y,v,h,_,f,O,g,E,x,R,T,w,I,C,V,A,B,G,N,P,S,k,q,D,L,M,U,F,H,z,Q,J,Y,K,X,Z,ee,te,ae,ne,ie,le,re,oe;(t||(t=e.InternalResourceHttpRoot||(e.InternalResourceHttpRoot={}))).actionCreator=function(){return Object(l.actionBuilder)("GET","./").queryParams({}).config({rules:[new W.ValidateRule(n.__Empty,"__Empty",204),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=$.a(n.InternalApplicationUserPermission);e.actionCreator=function(){return Object(l.actionBuilder)("GET","./access").queryParams({}).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(a||(a=e.InternalPermissionResourceGetAccessList||(e.InternalPermissionResourceGetAccessList={}))),(i||(i=e.InternalPermissionResourceAddAccess||(e.InternalPermissionResourceAddAccess={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./access").queryParams({}).data(e.body).config({rules:[new W.ValidateRule(n.InternalRoleAccess,"InternalRoleAccess",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(r||(r=e.InternalPermissionResourceGetPermissions||(e.InternalPermissionResourceGetPermissions={}))).actionCreator=function(){return Object(l.actionBuilder)("GET","./access/me").queryParams({}).config({rules:[new W.ValidateRule(n.InternalUserPermissions,"InternalUserPermissions",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(o||(o=e.InternalPermissionResourceDeleteAccess||(e.InternalPermissionResourceDeleteAccess={}))).actionCreator=function(e){var t="./access/{internalRoleAccessId}".replace("{internalRoleAccessId}",e.internalRoleAccessId.toString());return Object(l.actionBuilder)("DELETE",t).queryParams({}).config({rules:[new W.ValidateRule(n.__Empty,"__Empty",204),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()},s=c||(c=e.AdminResourceDebugRbac||(e.AdminResourceDebugRbac={})),$.h(),s.actionCreator=function(e){var t={};return void 0!==e.rhid&&(t.rhid=e.rhid),Object(l.actionBuilder)("GET","./admin").queryParams(t).config({rules:[new W.ValidateRule(n.__Empty,"__Empty",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()},d=u||(u=e.AdminResourceSetAdminDown||(e.AdminResourceSetAdminDown={})),$.h(),d.actionCreator=function(e){var t={};return void 0!==e.status&&(t.status=e.status),Object(l.actionBuilder)("POST","./admin/status").queryParams(t).config({rules:[new W.ValidateRule(n.__Empty,"__Empty",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(p||(p=e.AdminResourceMigrate||(e.AdminResourceMigrate={}))).actionCreator=function(){return Object(l.actionBuilder)("PUT","./admin/templates/migrate").queryParams({}).config({rules:[new W.ValidateRule(n.__Empty,"__Empty",204),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(m||(m=e.AdminResourceDeleteAllTemplates||(e.AdminResourceDeleteAllTemplates={}))).actionCreator=function(){return Object(l.actionBuilder)("DELETE","./admin/templates/migrate").queryParams({}).config({rules:[new W.ValidateRule(n.__Empty,"__Empty",204),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(b||(b=e.InternalResourceCreateApplication||(e.InternalResourceCreateApplication={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./applications").queryParams({}).data(e.body).config({rules:[new W.ValidateRule(n.Application1,"Application1",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(j||(j=e.InternalResourceGetApplication||(e.InternalResourceGetApplication={}))).actionCreator=function(e){var t="./applications/{appId}".replace("{appId}",e.appId.toString());return Object(l.actionBuilder)("GET",t).queryParams({}).config({rules:[new W.ValidateRule(n.Application1,"Application1",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(y||(y=e.InternalResourceUpdateApplication||(e.InternalResourceUpdateApplication={}))).actionCreator=function(e){var t="./applications/{appId}".replace("{appId}",e.appId.toString());return Object(l.actionBuilder)("PUT",t).queryParams({}).data(e.body).config({rules:[new W.ValidateRule(n.__Empty,"__Empty",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=$.b();e.actionCreator=function(e){var a="./applications/{appId}".replace("{appId}",e.appId.toString());return Object(l.actionBuilder)("DELETE",a).queryParams({}).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(v||(v=e.InternalResourceDeleteApplication||(e.InternalResourceDeleteApplication={}))),function(e){var t=$.a(n.EventType);e.actionCreator=function(e){var a="./applications/{appId}/eventTypes".replace("{appId}",e.appId.toString());return Object(l.actionBuilder)("GET",a).queryParams({}).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(h||(h=e.InternalResourceGetEventTypes||(e.InternalResourceGetEventTypes={}))),function(e){var t=$.a(n.BehaviorGroup);e.actionCreator=function(){return Object(l.actionBuilder)("GET","./behaviorGroups/default").queryParams({}).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(_||(_=e.InternalResourceGetDefaultBehaviorGroups||(e.InternalResourceGetDefaultBehaviorGroups={}))),(f||(f=e.InternalResourceCreateDefaultBehaviorGroup||(e.InternalResourceCreateDefaultBehaviorGroup={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./behaviorGroups/default").queryParams({}).data(e.body).config({rules:[new W.ValidateRule(n.BehaviorGroup,"BehaviorGroup",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){$.a(n.RequestDefaultBehaviorGroupPropertyList);var t=$.h();e.actionCreator=function(e){var a="./behaviorGroups/default/{behaviorGroupId}/actions".replace("{behaviorGroupId}",e.behaviorGroupId.toString());return Object(l.actionBuilder)("PUT",a).queryParams({}).data(e.body).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(O||(O=e.InternalResourceUpdateDefaultBehaviorGroupActions||(e.InternalResourceUpdateDefaultBehaviorGroupActions={}))),function(e){var t=$.h();e.actionCreator=function(e){var a="./behaviorGroups/default/{behaviorGroupId}/eventType/{eventTypeId}".replace("{behaviorGroupId}",e.behaviorGroupId.toString()).replace("{eventTypeId}",e.eventTypeId.toString());return Object(l.actionBuilder)("PUT",a).queryParams({}).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(g||(g=e.InternalResourceLinkDefaultBehaviorToEventType||(e.InternalResourceLinkDefaultBehaviorToEventType={}))),function(e){var t=$.h();e.actionCreator=function(e){var a="./behaviorGroups/default/{behaviorGroupId}/eventType/{eventTypeId}".replace("{behaviorGroupId}",e.behaviorGroupId.toString()).replace("{eventTypeId}",e.eventTypeId.toString());return Object(l.actionBuilder)("DELETE",a).queryParams({}).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(E||(E=e.InternalResourceUnlinkDefaultBehaviorToEventType||(e.InternalResourceUnlinkDefaultBehaviorToEventType={}))),function(e){var t=$.b();e.actionCreator=function(e){var a="./behaviorGroups/default/{id}".replace("{id}",e.id.toString());return Object(l.actionBuilder)("PUT",a).queryParams({}).data(e.body).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(x||(x=e.InternalResourceUpdateDefaultBehaviorGroup||(e.InternalResourceUpdateDefaultBehaviorGroup={}))),function(e){var t=$.b();e.actionCreator=function(e){var a="./behaviorGroups/default/{id}".replace("{id}",e.id.toString());return Object(l.actionBuilder)("DELETE",a).queryParams({}).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(R||(R=e.InternalResourceDeleteDefaultBehaviorGroup||(e.InternalResourceDeleteDefaultBehaviorGroup={}))),function(e){var t=$.a(n.Bundle);e.actionCreator=function(){return Object(l.actionBuilder)("GET","./bundles").queryParams({}).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(T||(T=e.InternalResourceGetBundles||(e.InternalResourceGetBundles={}))),(w||(w=e.InternalResourceCreateBundle||(e.InternalResourceCreateBundle={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./bundles").queryParams({}).data(e.body).config({rules:[new W.ValidateRule(n.Bundle,"Bundle",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(I||(I=e.InternalResourceGetBundle||(e.InternalResourceGetBundle={}))).actionCreator=function(e){var t="./bundles/{bundleId}".replace("{bundleId}",e.bundleId.toString());return Object(l.actionBuilder)("GET",t).queryParams({}).config({rules:[new W.ValidateRule(n.Bundle,"Bundle",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(C||(C=e.InternalResourceUpdateBundle||(e.InternalResourceUpdateBundle={}))).actionCreator=function(e){var t="./bundles/{bundleId}".replace("{bundleId}",e.bundleId.toString());return Object(l.actionBuilder)("PUT",t).queryParams({}).data(e.body).config({rules:[new W.ValidateRule(n.__Empty,"__Empty",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=$.b();e.actionCreator=function(e){var a="./bundles/{bundleId}".replace("{bundleId}",e.bundleId.toString());return Object(l.actionBuilder)("DELETE",a).queryParams({}).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(V||(V=e.InternalResourceDeleteBundle||(e.InternalResourceDeleteBundle={}))),function(e){var t=$.a(n.Application1);e.actionCreator=function(e){var a="./bundles/{bundleId}/applications".replace("{bundleId}",e.bundleId.toString());return Object(l.actionBuilder)("GET",a).queryParams({}).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(A||(A=e.InternalResourceGetApplications||(e.InternalResourceGetApplications={}))),(B||(B=e.InternalResourceCreateEventType||(e.InternalResourceCreateEventType={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./eventTypes").queryParams({}).data(e.body).config({rules:[new W.ValidateRule(n.EventType,"EventType",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(G||(G=e.InternalResourceUpdateEventType||(e.InternalResourceUpdateEventType={}))).actionCreator=function(e){var t="./eventTypes/{eventTypeId}".replace("{eventTypeId}",e.eventTypeId.toString());return Object(l.actionBuilder)("PUT",t).queryParams({}).data(e.body).config({rules:[new W.ValidateRule(n.__Empty,"__Empty",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=$.b();e.actionCreator=function(e){var a="./eventTypes/{eventTypeId}".replace("{eventTypeId}",e.eventTypeId.toString());return Object(l.actionBuilder)("DELETE",a).queryParams({}).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(N||(N=e.InternalResourceDeleteEventType||(e.InternalResourceDeleteEventType={}))),(P||(P=e.InternalResourceGetServerInfo||(e.InternalResourceGetServerInfo={}))).actionCreator=function(){return Object(l.actionBuilder)("GET","./serverInfo").queryParams({}).config({rules:[new W.ValidateRule(n.ServerInfo,"ServerInfo",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(S||(S=e.InternalResourceSetCurrentStatus||(e.InternalResourceSetCurrentStatus={}))).actionCreator=function(e){return Object(l.actionBuilder)("PUT","./status").queryParams({}).data(e.body).config({rules:[new W.ValidateRule(n.__Empty,"__Empty",204),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=$.a(n.Template);e.actionCreator=function(){return Object(l.actionBuilder)("GET","./templates").queryParams({}).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(k||(k=e.TemplateResourceGetAllTemplates||(e.TemplateResourceGetAllTemplates={}))),(q||(q=e.TemplateResourceCreateTemplate||(e.TemplateResourceCreateTemplate={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./templates").queryParams({}).data(e.body).config({rules:[new W.ValidateRule(n.Template,"Template",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=$.a(n.AggregationEmailTemplate);e.actionCreator=function(){return Object(l.actionBuilder)("GET","./templates/email/aggregation").queryParams({}).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(D||(D=e.TemplateResourceGetAllAggregationEmailTemplates||(e.TemplateResourceGetAllAggregationEmailTemplates={}))),(L||(L=e.TemplateResourceCreateAggregationEmailTemplate||(e.TemplateResourceCreateAggregationEmailTemplate={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./templates/email/aggregation").queryParams({}).data(e.body).config({rules:[new W.ValidateRule(n.AggregationEmailTemplate,"AggregationEmailTemplate",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=$.a(n.AggregationEmailTemplate);e.actionCreator=function(e){var a="./templates/email/aggregation/application/{appId}".replace("{appId}",e.appId.toString());return Object(l.actionBuilder)("GET",a).queryParams({}).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(M||(M=e.TemplateResourceGetAggregationEmailTemplatesByApplication||(e.TemplateResourceGetAggregationEmailTemplatesByApplication={}))),(U||(U=e.TemplateResourceGetAggregationemailTemplate||(e.TemplateResourceGetAggregationemailTemplate={}))).actionCreator=function(e){var t="./templates/email/aggregation/{templateId}".replace("{templateId}",e.templateId.toString());return Object(l.actionBuilder)("GET",t).queryParams({}).config({rules:[new W.ValidateRule(n.AggregationEmailTemplate,"AggregationEmailTemplate",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(F||(F=e.TemplateResourceUpdateAggregationEmailTemplate||(e.TemplateResourceUpdateAggregationEmailTemplate={}))).actionCreator=function(e){var t="./templates/email/aggregation/{templateId}".replace("{templateId}",e.templateId.toString());return Object(l.actionBuilder)("PUT",t).queryParams({}).data(e.body).config({rules:[new W.ValidateRule(n.__Empty,"__Empty",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=$.b();e.actionCreator=function(e){var a="./templates/email/aggregation/{templateId}".replace("{templateId}",e.templateId.toString());return Object(l.actionBuilder)("DELETE",a).queryParams({}).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(H||(H=e.TemplateResourceDeleteAggregationEmailTemplate||(e.TemplateResourceDeleteAggregationEmailTemplate={}))),function(e){var t=$.a(n.InstantEmailTemplate);e.actionCreator=function(e){var a={};return void 0!==e.applicationId&&(a.applicationId=e.applicationId),Object(l.actionBuilder)("GET","./templates/email/instant").queryParams(a).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(z||(z=e.TemplateResourceGetAllInstantEmailTemplates||(e.TemplateResourceGetAllInstantEmailTemplates={}))),(Q||(Q=e.TemplateResourceCreateInstantEmailTemplate||(e.TemplateResourceCreateInstantEmailTemplate={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./templates/email/instant").queryParams({}).data(e.body).config({rules:[new W.ValidateRule(n.InstantEmailTemplate,"InstantEmailTemplate",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=$.h();e.actionCreator=function(e){var a="./templates/email/instant/eventType/{eventTypeId}".replace("{eventTypeId}",e.eventTypeId.toString());return Object(l.actionBuilder)("GET",a).queryParams({}).config({rules:[new W.ValidateRule(n.InstantEmailTemplate,"InstantEmailTemplate",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403),new W.ValidateRule(t,"unknown",404)]}).build()}}(J||(J=e.TemplateResourceGetInstantEmailTemplateByEventType||(e.TemplateResourceGetInstantEmailTemplateByEventType={}))),(Y||(Y=e.TemplateResourceGetInstantEmailTemplate||(e.TemplateResourceGetInstantEmailTemplate={}))).actionCreator=function(e){var t="./templates/email/instant/{templateId}".replace("{templateId}",e.templateId.toString());return Object(l.actionBuilder)("GET",t).queryParams({}).config({rules:[new W.ValidateRule(n.InstantEmailTemplate,"InstantEmailTemplate",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(K||(K=e.TemplateResourceUpdateInstantEmailTemplate||(e.TemplateResourceUpdateInstantEmailTemplate={}))).actionCreator=function(e){var t="./templates/email/instant/{templateId}".replace("{templateId}",e.templateId.toString());return Object(l.actionBuilder)("PUT",t).queryParams({}).data(e.body).config({rules:[new W.ValidateRule(n.__Empty,"__Empty",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=$.b();e.actionCreator=function(e){var a="./templates/email/instant/{templateId}".replace("{templateId}",e.templateId.toString());return Object(l.actionBuilder)("DELETE",a).queryParams({}).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(X||(X=e.TemplateResourceDeleteInstantEmailTemplate||(e.TemplateResourceDeleteInstantEmailTemplate={}))),function(e){var t=$.f({body:$.h().optional().nullable(),subject:$.h().optional().nullable()}).nonstrict(),a=$.f({message:$.h().optional().nullable()}).nonstrict();e.actionCreator=function(e){return Object(l.actionBuilder)("POST","./templates/email/render").queryParams({}).data(e.body).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(a,"unknown",400),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(Z||(Z=e.TemplateResourceRenderEmailTemplate||(e.TemplateResourceRenderEmailTemplate={}))),(ee||(ee=e.TemplateResourceGetTemplate||(e.TemplateResourceGetTemplate={}))).actionCreator=function(e){var t="./templates/{templateId}".replace("{templateId}",e.templateId.toString());return Object(l.actionBuilder)("GET",t).queryParams({}).config({rules:[new W.ValidateRule(n.Template,"Template",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(te||(te=e.TemplateResourceUpdateTemplate||(e.TemplateResourceUpdateTemplate={}))).actionCreator=function(e){var t="./templates/{templateId}".replace("{templateId}",e.templateId.toString());return Object(l.actionBuilder)("PUT",t).queryParams({}).data(e.body).config({rules:[new W.ValidateRule(n.__Empty,"__Empty",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=$.b();e.actionCreator=function(e){var a="./templates/{templateId}".replace("{templateId}",e.templateId.toString());return Object(l.actionBuilder)("DELETE",a).queryParams({}).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(ae||(ae=e.TemplateResourceDeleteTemplate||(e.TemplateResourceDeleteTemplate={}))),ie=ne||(ne=e.ValidationResourceValidate||(e.ValidationResourceValidate={})),$.h(),$.h(),$.h(),ie.actionCreator=function(e){var t={};return void 0!==e.application&&(t.application=e.application),void 0!==e.bundle&&(t.bundle=e.bundle),void 0!==e.eventType&&(t.eventType=e.eventType),Object(l.actionBuilder)("GET","./validation/baet").queryParams(t).config({rules:[new W.ValidateRule(n.__Empty,"__Empty",200)]}).build()},re=le||(le=e.ValidationResourceValidateMessage||(e.ValidationResourceValidateMessage={})),$.h(),re.actionCreator=function(e){return Object(l.actionBuilder)("POST","./validation/message").queryParams({}).data(e.body).config({rules:[new W.ValidateRule(n.__Empty,"__Empty",200),new W.ValidateRule(n.MessageValidationResponse,"MessageValidationResponse",400)]}).build()},function(e){var t=$.h();e.actionCreator=function(){return Object(l.actionBuilder)("GET","./version").queryParams({}).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(n.__Empty,"__Empty",401),new W.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(oe||(oe=e.InternalResourceGetVersion||(e.InternalResourceGetVersion={})))}(i||(i={}));var K=Object(W.validationResponseTransformer)((function(e){if(200===e.status){var t=e.value.map((function(e){return{id:e.id,name:e.name,description:e.description,data:e.data}}));return Object(W.validatedResponse)("emailTemplates",200,t,e.errors)}return e})),X=a(689),Z=a(662),ee=a(663),te=function(e){return Object(T.jsx)(o.a.Fragment,{children:Object(T.jsx)(X.a,{variant:X.b.medium,title:" Email Template for ".concat(e.applicationName),isOpen:e.showModal,onClose:e.onClose,children:Object(T.jsxs)(Z.a,{isHorizontal:!0,children:["Viewing modal for existing templates",Object(T.jsx)(ee.a,{children:Object(T.jsx)(S.a,{variant:"primary",type:"reset",onClick:e.onClose,children:"Close"})})]})})})},ae=function(e){var t,a=J().hasPermission,n=function(){var e=Object(u.useQuery)(i.TemplateResourceGetAllTemplates.actionCreator()),t=Object(r.useMemo)((function(){var t=e.payload;if(t)return K(t)}),[e.payload]);return Object(r.useMemo)((function(){return Object(z.a)(Object(z.a)({},e),{},{payload:t})}),[e,t])}(),l=r.useState(!1),o=Object(p.a)(l,2),c=o[0],s=o[1],m=function(){s(!0)};return n.loading?Object(T.jsx)(v.a,{}):200!==(null===(t=n.payload)||void 0===t?void 0:t.status)?Object(T.jsxs)("span",{children:["Error while loading templates: ",n.errorObject.toString()]}):Object(T.jsx)(r.Fragment,{children:Object(T.jsxs)(y.a,{children:[Object(T.jsx)(x.a,{headingLevel:"h1",children:Object(T.jsx)(A.a,{children:Object(T.jsx)(B.a,{target:"#",children:"Email Templates"})})}),Object(T.jsxs)(D.a,{"aria-label":"Email Template table",children:[Object(T.jsxs)(L.a,{children:[Object(T.jsx)(G.a,{children:Object(T.jsx)(N.a,{children:Object(T.jsxs)(P.a,{children:[Object(T.jsx)(S.a,{variant:"primary",isDisabled:!a(e.application),component:function(e){return Object(T.jsx)(d.b,Object(z.a)(Object(z.a)({},e),{},{to:it.emailTemplates}))},children:"Create Email Template"}),Object(T.jsx)(te,{showModal:c,applicationName:e.application,onClose:function(){s(!1)}})]})})}),Object(T.jsx)(M.a,{children:["Email Templates"].map((function(e,t){return Object(T.jsx)(U.a,{children:e},t)}))})]}),Object(T.jsx)(F.a,{children:n.payload.value.map((function(e){return Object(T.jsxs)(M.a,{children:[Object(T.jsx)(H.a,{children:e.name}),Object(T.jsx)(H.a,{children:Object(T.jsxs)(S.a,{className:"view",type:"button",variant:"plain",onClick:m,children:[" ",Object(T.jsx)(Y.a,{})," "]})}),Object(T.jsx)(H.a,{children:Object(T.jsxs)(S.a,{className:"edit",type:"button",variant:"plain",isDisabled:!0,children:[" ",Object(T.jsx)(k.a,{})," "]})}),Object(T.jsx)(H.a,{children:Object(T.jsxs)(S.a,{className:"delete",type:"button",variant:"plain",isDisabled:!0,children:[Object(T.jsx)(q.a,{})," "]})})]},e.id)}))})]})]})})},ne=a(26),ie=a(695),le=a(672),re=a(696),oe=a(673),ce=a(697),se=function(e){var t,a=o.a.useState(null!==(t=e.initialEventType)&&void 0!==t?t:{}),n=Object(p.a)(a,2),i=n[0],l=n[1],r=function(e,t){var a=t.target;l((function(e){return Object(z.a)(Object(z.a)({},e),{},Object(ne.a)({},a.name,a.value))}))},c=o.a.useCallback((function(){e.onSubmit(i)}),[i,e]);return o.a.useEffect((function(){var t;l(null!==(t=e.initialEventType)&&void 0!==t?t:{})}),[e.initialEventType]),Object(T.jsx)(o.a.Fragment,{children:Object(T.jsx)(X.a,{variant:X.b.medium,title:"".concat(e.isEdit?"Update":"Create"," Event Type for ").concat(e.applicationName),isOpen:e.showModal,onClose:e.onClose,children:Object(T.jsxs)(Z.a,{isHorizontal:!0,children:[Object(T.jsx)(ie.a,{label:"Name",fieldId:"name",isRequired:!0,helperText:e.isEdit?Object(T.jsx)(le.a,{children:Object(T.jsx)(re.a,{variant:"warning",hasIcon:!0,children:"If this field is modified it may affect exisiting behavior."})}):"This is a short name, only composed of a-z 0-9 and - characters.",children:Object(T.jsx)(oe.a,{type:"text",value:i.name,onChange:r,id:"name",name:"name"})}),Object(T.jsx)(ie.a,{label:"Display name",fieldId:"display-name",isRequired:!0,helperText:"This is the name you want to display on the UI",children:Object(T.jsx)(oe.a,{type:"text",value:i.displayName,onChange:r,id:"display-name",name:"displayName"})}),Object(T.jsx)(ie.a,{label:"Description",fieldId:"description",helperText:"Optional short description that appears in the UI to help admin decide how to notify users.",children:Object(T.jsx)(ce.a,{type:"text",value:i.description,onChange:r,id:"description",name:"description"})}),Object(T.jsxs)(ee.a,{children:[Object(T.jsx)(S.a,{variant:"primary",type:"submit",isLoading:e.isLoading,isDisabled:e.isLoading,onClick:c,children:e.isEdit?"Update":"Submit"}),Object(T.jsx)(S.a,{variant:"link",type:"reset",onClick:e.onClose,children:"Cancel"})]})]})})})},ue=function(e){var t=o.a.useState(!0),a=Object(p.a)(t,2),n=a[0],i=a[1],l=o.a.useCallback(Object(V.a)(C.a.mark((function t(){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.onDelete,t.next=3,a();case 3:t.sent?e.onClose():alert("Could not delete event type, please try again.");case 5:case"end":return t.stop()}}),t)}))),[e]);return Object(T.jsx)(o.a.Fragment,{children:Object(T.jsxs)(X.a,{variant:X.b.small,titleIconVariant:"warning",isOpen:e.isOpen,onClose:e.onClose,title:"Permanently delete ".concat(e.eventTypeName),children:[Object(T.jsx)("b",{children:e.eventTypeName})," ","from  ".concat(e.applicationName,"/").concat(e.bundleName?e.bundleName:Object(T.jsx)(v.a,{})," will be deleted. \n                        If an application is currently sending this event, it will no longer be processed."),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),"Type ",Object(T.jsx)("b",{children:e.eventTypeName})," to confirm:",Object(T.jsx)("br",{}),Object(T.jsx)(oe.a,{type:"text",onChange:function(t,a){var n=a.target;return n.value!==e.eventTypeName?i(!0):n.value===e.eventTypeName?i(!1):void 0},id:"name",name:"name",isRequired:!0}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsxs)(ee.a,{children:[Object(T.jsx)(S.a,{variant:"danger",type:"button",isDisabled:n,onClick:l,children:"Delete"}),Object(T.jsx)(S.a,{variant:"link",type:"button",onClick:e.onClose,children:"Cancel"})]})]})})},de=a(418),pe=["href"],me=function(e){var t=e.href,a=Object(de.a)(e,pe);return Object(T.jsx)(d.b,Object(z.a)(Object(z.a)({to:t},a),{},{children:e.children}))},be=function(e){return Object(T.jsx)(B.a,Object(z.a)(Object(z.a)({},e),{},{component:me,children:e.children}))},je=function(e){return void 0===e.id?i.InternalResourceCreateEventType.actionCreator({body:{id:e.id,application_id:e.applicationId,description:e.description,display_name:e.displayName,name:e.name}}):i.InternalResourceUpdateEventType.actionCreator({eventTypeId:e.id,body:{id:e.id,application_id:e.applicationId,description:e.description,display_name:e.displayName,name:e.name}})},ye=function(e){return i.InternalResourceDeleteEventType.actionCreator({eventTypeId:e})},ve=Object(W.validationResponseTransformer)((function(e){if(200===e.status){var t,a={id:null!==(t=e.value.id)&&void 0!==t?t:"",displayName:e.value.display_name,name:e.value.name,bundleId:e.value.bundle_id};return Object(W.validatedResponse)("Application",200,a,e.errors)}return e})),he=function(e){return i.InternalResourceGetBundle.actionCreator({bundleId:e})},_e=a(285),fe=Object(W.validationResponseTransformer)((function(e){if(200===e.status){var t=e.value.map((function(e){var t,a;return{id:null!==(t=e.id)&&void 0!==t?t:"",name:e.name,displayName:e.display_name,description:null!==(a=e.description)&&void 0!==a?a:"",applicationId:e.application_id}}));return Object(W.validatedResponse)("EventTypes",200,t,e.errors)}return e})),Oe=function(e){var t=Object(u.useQuery)(i.InternalResourceGetEventTypes.actionCreator({appId:e})),a=Object(r.useMemo)((function(){var e=t.payload;if(e)return fe(e)}),[t.payload]);return Object(r.useMemo)((function(){return Object(z.a)(Object(z.a)({},t),{},{payload:a})}),[t,a])},ge=a(674),Ee=a(675),xe=function(e){var t=J(),a=o.a.useState(Object(z.a)({},e.initialApplication)),n=Object(p.a)(a,2),i=n[0],l=n[1],r=function(e,t){var a=t.target;l((function(e){return Object(z.a)(Object(z.a)({},e),{},Object(ne.a)({},a.name,a.value))}))},c=o.a.useCallback((function(){e.onSubmit(i)}),[i,e]);return o.a.useEffect((function(){void 0===i.ownerRole&&t.roles.length>0&&l((function(e){return Object(z.a)(Object(z.a)({},e),{},{ownerRole:t.roles[0]})}))}),[t.roles,i.ownerRole]),Object(T.jsx)(o.a.Fragment,{children:Object(T.jsx)(X.a,{variant:X.b.medium,title:"".concat(e.isEdit?"Update ".concat(e.applicationName):"Create Application"," for ").concat(e.bundleName),isOpen:e.showModal,onClose:e.onClose,children:Object(T.jsxs)(Z.a,{isHorizontal:!0,children:[Object(T.jsx)(ie.a,{label:"Name",fieldId:"name",isRequired:!0,helperText:e.isEdit?Object(T.jsx)(le.a,{children:Object(T.jsx)(re.a,{variant:"warning",hasIcon:!0,children:"If this field is modified it may affect exisiting behavior."})}):"This is a short name, only composed of a-z 0-9 and - characters.",children:Object(T.jsx)(oe.a,{type:"text",value:i.name,onChange:r,id:"name",name:"name"})}),Object(T.jsx)(ie.a,{label:"Display name",fieldId:"display-name",isRequired:!0,helperText:"This is the name you want to display on the UI",children:Object(T.jsx)(oe.a,{type:"text",value:i.displayName,onChange:r,id:"display-name",name:"displayName"})}),!e.isEdit&&Object(T.jsx)(ie.a,{fieldId:"role-name",label:"Role admin",helperText:"Role of users who will manage the application",children:t.isAdmin?Object(T.jsx)(oe.a,{type:"text",onChange:r,value:i.ownerRole,id:"owner-role",name:"ownerRole"}):Object(T.jsx)(ge.a,{isRequired:!0,value:i.ownerRole,onChange:r,id:"owner-role",name:"ownerRole",children:t.roles.map((function(e){return Object(T.jsx)(Ee.a,{label:e,value:e},e)}))})}),Object(T.jsxs)(ee.a,{children:[Object(T.jsx)(S.a,{variant:"primary",type:"submit",isLoading:e.isLoading,isDisabled:e.isLoading,onClick:c,children:e.isEdit?"Update":"Submit"}),Object(T.jsx)(S.a,{variant:"link",type:"reset",onClick:e.onClose,children:"Cancel"})]})]})})})},Re=function(e){var t=o.a.useState(!0),a=Object(p.a)(t,2),n=a[0],i=a[1],l=o.a.useCallback(Object(V.a)(C.a.mark((function t(){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.onDelete,t.next=3,a();case 3:t.sent?e.onClose():alert("Could not delete application, please try again.");case 5:case"end":return t.stop()}}),t)}))),[e]);return Object(T.jsx)(o.a.Fragment,{children:Object(T.jsxs)(X.a,{variant:X.b.small,titleIconVariant:"warning",isOpen:e.isOpen,onClose:e.onClose,title:"Permanently delete ".concat(e.applicationName),children:[Object(T.jsx)("b",{children:e.applicationName})," ","from ".concat(e.bundleName?e.bundleName:Object(T.jsx)(v.a,{})," will be deleted. \n                        By deleting this application all associated event types will be deleted and no longer processed. "),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),"Type ",Object(T.jsx)("b",{children:e.applicationName})," to confirm:",Object(T.jsx)("br",{}),Object(T.jsx)(oe.a,{type:"text",onChange:function(t,a){var n=a.target;return n.value!==e.applicationName?i(!0):n.value===e.applicationName?i(!1):void 0},id:"name",name:"name",isRequired:!0}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsxs)(ee.a,{children:[Object(T.jsx)(S.a,{variant:"danger",type:"button",isDisabled:n,onClick:l,children:"Delete"}),Object(T.jsx)(S.a,{variant:"link",type:"button",onClick:e.onClose,children:"Cancel"})]})]})})},Te=a(698),we=a(416),Ie=function(e){var t,a=Oe(e.appId);return a.loading?Object(T.jsx)(v.a,{}):200!==(null===(t=a.payload)||void 0===t?void 0:t.status)?Object(T.jsxs)("span",{children:["Error while loading eventtypes: ",a.errorObject.toString()]}):Object(T.jsxs)(r.Fragment,{children:[Object(T.jsx)(Te.a,{children:0===a.payload.value.length?"No event types":""}),Object(T.jsx)(Te.a,{children:a.payload.value.map((function(e){return Object(T.jsx)(we.a,{isReadOnly:!0,children:e.displayName},e.id)}))})]})},Ce=function(e){return void 0===e.id?i.InternalResourceCreateApplication.actionCreator({body:{bundle_id:e.bundleId,display_name:e.displayName,name:e.name,owner_role:e.ownerRole}}):i.InternalResourceUpdateApplication.actionCreator({appId:e.id,body:{id:e.id,bundle_id:e.bundleId,display_name:e.displayName,name:e.name}})},Ve=function(e){return i.InternalResourceDeleteApplication.actionCreator({appId:e})},Ae=Object(W.validationResponseTransformer)((function(e){if(200===e.status){var t=e.value.map((function(e){var t;return{id:null!==(t=e.id)&&void 0!==t?t:"",displayName:e.display_name,bundleId:e.bundle_id,name:e.name}}));return Object(W.validatedResponse)("Applications",200,t,e.errors)}return e})),Be=Object(W.validationResponseTransformer)((function(e){if(200===e.status){var t,a={id:null!==(t=e.value.id)&&void 0!==t?t:"",displayName:e.value.display_name,applications:[]};return Object(W.validatedResponse)("Bundle",200,a,e.errors)}return e})),Ge=function(e){var t,a=o.a.useState(null!==(t=e.initialSystemBehaviorGroup)&&void 0!==t?t:{}),n=Object(p.a)(a,2),i=n[0],l=n[1],r=[Object(T.jsx)(Ee.a,{isPlaceholder:!0,label:"Choose an action"},"choose action"),Object(T.jsx)(Ee.a,{label:"Send an email to Users: All",value:"email-all"},"email-all"),Object(T.jsx)(Ee.a,{label:"Send an email to Users: Admins",value:"email-admin"},"email-admin")],c=function(e,t){var a=t.target;l((function(e){return Object(z.a)(Object(z.a)({},e),{},Object(ne.a)({},a.name,a.value))}))},s=o.a.useCallback((function(){e.onSubmit(i)}),[i,e]);return o.a.useEffect((function(){var t;l(null!==(t=e.initialSystemBehaviorGroup)&&void 0!==t?t:{})}),[e.initialSystemBehaviorGroup]),Object(T.jsx)(o.a.Fragment,{children:Object(T.jsx)(X.a,{variant:X.b.medium,title:"".concat(e.isEdit?"Update":"Create"," your System Behavior Group"),isOpen:e.showModal,onClose:e.onClose,children:Object(T.jsxs)(Z.a,{isHorizontal:!0,children:[Object(T.jsx)(ie.a,{label:"Group Name",fieldId:"displayName",isRequired:!0,helperText:"Enter a name for your group",children:Object(T.jsx)(oe.a,{type:"text",value:i.displayName,onChange:c,id:"displayName",name:"displayName"})}),Object(T.jsx)(ie.a,{label:"Action",fieldId:"actions",isRequired:!0,children:Object(T.jsx)(ge.a,{id:"actions",name:"actions",value:i.actions,open:e.showModal,onChange:c,children:r})}),Object(T.jsxs)(ee.a,{children:[Object(T.jsx)(S.a,{variant:"primary",type:"submit",isLoading:e.isLoading,isDisabled:e.isLoading,onClick:s,children:e.isEdit?"Update":"Submit"}),Object(T.jsx)(S.a,{variant:"link",type:"reset",onClick:e.onClose,children:"Cancel"})]})]})})})},Ne=function(e){var t=o.a.useState(!0),a=Object(p.a)(t,2),n=a[0],i=a[1],l=o.a.useCallback(Object(V.a)(C.a.mark((function t(){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.onDelete,t.next=3,a();case 3:t.sent?e.onClose():alert("Could not delete system behavior group, please try again.");case 5:case"end":return t.stop()}}),t)}))),[e]);return Object(T.jsx)(o.a.Fragment,{children:Object(T.jsxs)(X.a,{variant:X.b.small,titleIconVariant:"warning",isOpen:e.isOpen,onClose:e.onClose,title:"Permanently delete ".concat(e.systemBehaviorGroupName),children:[Object(T.jsx)("b",{children:e.systemBehaviorGroupName})," from ",e.bundleName?e.bundleName:Object(T.jsx)(v.a,{})," will be deleted. You will no longer be able to assign this system behavior group to event types and any associated event types will stop using this behavior group.",Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),"Type ",Object(T.jsx)("b",{children:e.systemBehaviorGroupName})," to confirm:",Object(T.jsx)("br",{}),Object(T.jsx)(oe.a,{type:"text",onChange:function(t,a){var n=a.target;return n.value!==e.systemBehaviorGroupName?i(!0):n.value===e.systemBehaviorGroupName?i(!1):void 0},id:"name",name:"name",isRequired:!0}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsxs)(ee.a,{children:[Object(T.jsx)(S.a,{variant:"danger",type:"button",isDisabled:n,onClick:l,children:"Delete"}),Object(T.jsx)(S.a,{variant:"link",type:"button",onClick:e.onClose,children:"Cancel"})]})]})})},Pe=function(e){var t;return void 0===e.id?i.InternalResourceCreateDefaultBehaviorGroup.actionCreator({body:{bundle_id:e.bundleId,display_name:e.displayName,id:e.id}}):i.InternalResourceUpdateDefaultBehaviorGroup.actionCreator({id:null!==(t=e.id)&&void 0!==t?t:"",body:{bundle_id:e.bundleId,display_name:e.displayName,id:e.id}})},Se=function(e){return i.InternalResourceDeleteDefaultBehaviorGroup.actionCreator({id:e})},ke=Object(W.validationResponseTransformer)((function(e){if(200===e.status){var t=e.value.map((function(e){return{bundleId:e.bundle_id,displayName:e.display_name,actions:e.actions,id:e.id}}));return Object(W.validatedResponse)("BehaviorGroups",200,t,e.errors)}return e})),qe=function(e){return i.InternalResourceUpdateDefaultBehaviorGroupActions.actionCreator({behaviorGroupId:e.behaviorGroupId,body:e.body})},De=function(e){var t,a=function(e){var t=Object(u.useQuery)(i.InternalResourceGetDefaultBehaviorGroups.actionCreator()),a=Object(r.useMemo)((function(){var a=t.payload;if(a){var n=ke(a);return 200===n.status&&(n.value=n.value.filter((function(t){return t.bundleId===e}))),n}}),[t.payload,e]);return Object(r.useMemo)((function(){return Object(z.a)(Object(z.a)({},t),{},{payload:a})}),[t,a])}(e.bundleId),n=Object(u.useMutation)(Pe),l=Object(u.useMutation)(Se),o=Object(u.useMutation)(qe),c=r.useState(!1),s=Object(p.a)(c,2),d=s[0],m=s[1],b=r.useState(!1),j=Object(p.a)(b,2),h=j[0],_=j[1],f=r.useState(!1),O=Object(p.a)(f,2),g=O[0],E=O[1],R=r.useState({}),w=Object(p.a)(R,2),I=w[0],Q=w[1],J=r.useCallback((function(t){var i;m(!1);var l=n.mutate,r=o.mutate;l({id:t.id,displayName:null!==(i=t.displayName)&&void 0!==i?i:"",bundleId:e.bundleId}).then((function(e){var a,n;if(200===(null===(a=e.payload)||void 0===a?void 0:a.status)&&(e.payload.value.id||t.id))return r({behaviorGroupId:null!==(n=e.payload.value.id)&&void 0!==n?n:t.id,body:[{ignore_preferences:!1,only_admins:"email-admin"===t.actions}]})})).finally(a.query)}),[a.query,n.mutate,e.bundleId,o.mutate]),Y=r.useCallback(Object(V.a)(C.a.mark((function e(){var t,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!1),t=l.mutate,e.next=4,t(I.id).finally(a.query);case 4:return n=e.sent,e.abrupt("return",!n.error);case 6:case"end":return e.stop()}}),e)}))),[l.mutate,I.id,a.query]);return a.loading?Object(T.jsx)(v.a,{}):200!==(null===(t=a.payload)||void 0===t?void 0:t.status)?Object(T.jsxs)("span",{children:["Error while loading sysem behavior groups: ",a.errorObject.toString()]}):Object(T.jsxs)(r.Fragment,{children:[Object(T.jsxs)(y.a,{children:[Object(T.jsx)(x.a,{headingLevel:"h1",children:Object(T.jsxs)(A.a,{children:[Object(T.jsx)(B.a,{target:"#",children:" Bundles "}),Object(T.jsx)(B.a,{target:"#",children:e.bundle}),Object(T.jsx)(B.a,{target:"#",children:" System Behavior Groups "})]})}),Object(T.jsxs)(D.a,{"aria-label":"System behavior groups table",children:[Object(T.jsxs)(L.a,{children:[Object(T.jsx)(G.a,{children:Object(T.jsx)(N.a,{children:Object(T.jsx)(P.a,{children:Object(T.jsx)(S.a,{variant:"primary",type:"button",onClick:function(){m(!0),E(!1),Q({})},children:" Create new group "})})})}),Object(T.jsx)(M.a,{children:["System Behavior Group","Action"].map((function(e,t){return Object(T.jsx)(U.a,{children:e},t)}))})]}),Object(T.jsx)(F.a,{children:a.payload.value.map((function(e){var t;return Object(T.jsxs)(M.a,{children:[Object(T.jsx)(H.a,{children:e.displayName}),Object(T.jsx)(H.a,{children:null===(t=e.actions)||void 0===t?void 0:t.map((function(e){var t,a=null===(t=e.endpoint)||void 0===t?void 0:t.properties;if(a)return a.only_admins?"Admins":"All users"}))}),Object(T.jsx)(H.a,{children:Object(T.jsxs)(S.a,{className:"edit",type:"button",variant:"plain",onClick:function(){return function(e){m(!0),E(!0),Q(e)}(e)},children:[" ",Object(T.jsx)(k.a,{})," "]})}),Object(T.jsx)(H.a,{children:Object(T.jsxs)(S.a,{className:"delete",type:"button",variant:"plain",onClick:function(){return function(e){_(!0),Q(e)}(e)},children:[Object(T.jsx)(q.a,{})," "]})})]},e.id)}))})]})]}),Object(T.jsx)(Ge,{isEdit:g,initialSystemBehaviorGroup:I,showModal:d,onClose:function(){m(!1),a.query},onSubmit:J,isLoading:!1}),Object(T.jsx)(Ne,{onDelete:Y,bundleName:e.bundle,systemBehaviorGroupName:I.displayName,isOpen:h,onClose:function(){_(!1),a.query}})]})},Le=a(676),Me=a(677),Ue="\nImportant email to {user.firstName} from MyCoolApp!\n".trimLeft(),Fe='\n<div>Hello {user.firstName} {user.lastName},</div>\n<div>We have some important news for you, MyApp has a notification for you</div>\n<div>As a reminder, current user: {user.username}: is active? {user.isActive}; is admin? {user.isAdmin}</div>\n<div>\n    System with name <strong>{action.context.display_name}</strong> (<strong>{action.context.inventory_id}</strong>) \n    did a check in at {action.context.system_check_in.toUtcFormat()}. \n    It was about {action.context.system_check_in.toTimeAgo()}\n</div>\n<div>This is a loop:</div>\n{#if action.events.size() > 0}\n<ul>\n    {#each action.events}\n        <li>\n            <a href="http://google.com?q={it.payload.my_id}" target="_blank">{it.payload.my_name}</a>\n        </li>\n    {/each}\n</ul>\n<div>Have a nice day!</div>\n{/if}\n'.trimLeft(),He=JSON.stringify({bundle:"rhel",application:"policies",event_type:"policy-triggered",timestamp:"2021-08-05T16:21:14.243",account_id:"5758117",context:'{"inventory_id":"80f7e57d-a16a-4189-82af-1d68a747c8b3","system_check_in":"2021-08-05T16:21:12.953036","display_name":"cool display name"}',events:[{metadata:{},payload:'{"my_id":"3df53241-3e09-481b-a322-4892caaaaadc","my_name":"Red color"}'},{metadata:{},payload:'{"my_id":"6c5e8451-a40a-4bb7-ab9a-0cb10a4c577d","my_name":"Green color"}'},{metadata:{},payload:'{"my_id":"b4c6378a-c1fb-4d3e-8e9b-7e5bdfc09dd3","my_name":"Blue color"}'}]},null,2),ze=a(678),Qe=a(679),Je=a(681),Ye=a(682),We=a(246),$e=a(680),Ke=JSON.stringify({},null,2),Xe=function(e){var t=Object.keys(e).sort(),a=[];return t.forEach((function(t){e[t].forEach((function(e){return a.push(e)}))})),Object(T.jsx)(ze.a,{children:a.map((function(e,t){return Object(T.jsx)(Qe.a,{children:e},t)}))})},Ze=function(e){return i.TemplateResourceRenderEmailTemplate.actionCreator({body:{subject_template:e.subject,body_template:e.body,payload:e.payload}})},et="\nImportant email to {user.firstName} from MyCoolApp!\n".trimLeft(),tt='\n<div>Hello {user.firstName} {user.lastName},</div>\n<div>We have some important news for you, MyApp has a notification for you</div>\n<div>As a reminder, current user: {user.username}: is active? {user.isActive}; is admin? {user.isAdmin}</div>\n<div>\n    System with name <strong>{action.context.display_name}</strong> (<strong>{action.context.inventory_id}</strong>) \n    did a check in at {action.context.system_check_in.toUtcFormat()}. \n    It was about {action.context.system_check_in.toTimeAgo()}\n</div>\n<div>This is a loop:</div>\n{#if action.events.size() > 0}\n<ul>\n    {#each action.events}\n        <li>\n            <a href="http://google.com?q={it.payload.my_id}" target="_blank">{it.payload.my_name}</a>\n        </li>\n    {/each}\n</ul>\n<div>Have a nice day!</div>\n{/if}\n'.trimLeft(),at=JSON.stringify({bundle:"rhel",application:"policies",event_type:"policy-triggered",timestamp:"2021-08-05T16:21:14.243",account_id:"5758117",context:'{"inventory_id":"80f7e57d-a16a-4189-82af-1d68a747c8b3","system_check_in":"2021-08-05T16:21:12.953036","display_name":"cool display name"}',events:[{metadata:{},payload:'{"my_id":"3df53241-3e09-481b-a322-4892caaaaadc","my_name":"Red color"}'},{metadata:{},payload:'{"my_id":"6c5e8451-a40a-4bb7-ab9a-0cb10a4c577d","my_name":"Green color"}'},{metadata:{},payload:'{"my_id":"b4c6378a-c1fb-4d3e-8e9b-7e5bdfc09dd3","my_name":"Blue color"}'}]},null,2),nt=function(e){return e.isLoading?Object(T.jsx)(v.a,{}):e.succeeded?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Ye.a,{children:Object(T.jsxs)("span",{children:[Object(T.jsx)("strong",{children:"Subject:"})," ",e.subject]})}),Object(T.jsx)(Ye.a,{children:Object(T.jsx)("strong",{children:"Body:"})}),Object(T.jsx)(Ye.a,{children:Object(T.jsx)("iframe",{width:"100%",srcDoc:e.body})})]}):Object(T.jsx)(Ye.a,{children:Object(T.jsx)(le.a,{children:Object(T.jsx)(re.a,{variant:"error",children:e.error})})})},it={bundle:function(e){return"/bundle/".concat(e)},application:function(e){return"/application/".concat(e)},aggregation:function(){return"/aggregation"},email:function(){return"/email"},emailTemplates:function(){return"/emailTemplates"},messageValidator:function(){return"/utils/message-validator"}},lt=[{path:it.aggregation(),component:function(){var e=r.useCallback((function(e,t){e.layout(),e.focus(),t.editor.getModels()[0].updateOptions({tabSize:5})}),[]),t=r.useCallback((function(e){}),[]),a=Object(r.useMemo)((function(){return[Object(T.jsx)(g.a,{icon:Object(T.jsx)(R.a,{}),toolTipText:"Test aggregation",onClick:function(){return console.log("testing")},isVisible:!0},"test")]}),[]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(y.a,{children:Object(T.jsx)(x.a,{headingLevel:"h1",children:"Aggregation templates"})}),Object(T.jsx)(y.a,{children:Object(T.jsx)(E.a,{isDownloadEnabled:!0,isUploadEnabled:!0,customControls:a,isLineNumbersVisible:!0,isLanguageLabelVisible:!0,isMinimapVisible:!1,language:E.b.javascript,onEditorDidMount:e,onChange:t,code:w,height:"300px"})})]})}},{path:it.application(":applicationId"),component:function(){var e,t,a,n,l,o,c,s,d=J(),m=d.hasPermission,b=d.isAdmin,j=Object(O.g)().applicationId,h=function(e){var t=Object(r.useState)(),a=Object(p.a)(t,2),n=a[0],l=a[1],o=Oe(e),c=Object(u.useClient)().query;return Object(r.useEffect)((function(){l(void 0)}),[e]),Object(r.useEffect)((function(){var e;if(200===(null===(e=o.payload)||void 0===e?void 0:e.status)){var t=o.payload.value.map((function(e){return Object(z.a)(Object(z.a)({},e),{},{instantEmail:{isLoading:!0}})}));l(t),t.forEach((function(e){c(i.TemplateResourceGetInstantEmailTemplateByEventType.actionCreator({eventTypeId:e.id})).then((function(t){var a,n;if(200===(null===(a=t.payload)||void 0===a?void 0:a.status)||404===(null===(n=t.payload)||void 0===n?void 0:n.status)){var i=200===t.payload.status?t.payload.value.id:void 0;l(Object(_e.a)((function(t){var a=Object(_e.b)(t);if(t&&a){var n=a.findIndex((function(t){return t.id===e.id}));-1!==n&&(t[n].instantEmail={isLoading:!1,id:null===i?void 0:i})}})))}}))}))}}),[o.payload,o.loading,c]),{payload:n,data:n,loading:o.loading,reload:o.query,error:o.errorObject}}(j),_=function(e){var t=Object(u.useQuery)(i.InternalResourceGetApplication.actionCreator({appId:e})),a=Object(r.useMemo)((function(){var e=t.payload;if(e)return ve(e)}),[t.payload]);return Object(r.useMemo)((function(){return Object(z.a)(Object(z.a)({},t),{},{payload:a})}),[t,a])}(j),f=Object(u.useMutation)(ye),g=Object(u.useMutation)(je),E=r.useState({}),R=Object(p.a)(E,2),w=R[0],I=R[1],Q=r.useState(!1),Y=Object(p.a)(Q,2),W=Y[0],$=Y[1],K=r.useState(!1),X=Object(p.a)(K,2),Z=X[0],ee=X[1],te=r.useState(!1),ne=Object(p.a)(te,2),ie=ne[0],le=ne[1],re=r.useMemo((function(){var e;if("Application"===(null===(e=_.payload)||void 0===e?void 0:e.type))return _.payload.value.bundleId}),[_.payload]),oe=Object(u.useParameterizedQuery)(he);r.useEffect((function(){var e=oe.query;re&&e(re)}),[re,oe.query]);var ce=r.useMemo((function(){var e;if(200===(null===(e=oe.payload)||void 0===e?void 0:e.status))return oe.payload.value}),[null===(e=oe.payload)||void 0===e?void 0:e.status,null===(t=oe.payload)||void 0===t?void 0:t.value]),de=Object(r.useMemo)((function(){var e;if(200===(null===(e=_.payload)||void 0===e?void 0:e.status))return _.payload.value}),[null===(a=_.payload)||void 0===a?void 0:a.status,null===(n=_.payload)||void 0===n?void 0:n.value]),pe=r.useCallback((function(e){var t,a,n;$(!1),(0,g.mutate)({id:e.id,displayName:null!==(t=e.displayName)&&void 0!==t?t:"",name:null!==(a=e.name)&&void 0!==a?a:"",description:null!==(n=e.description)&&void 0!==n?n:"",applicationId:j}).then(h.reload)}),[j,h.reload,g.mutate]),me=r.useCallback(Object(V.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return le(!1),t=f.mutate,e.next=4,t(w.id);case 4:if(!e.sent.error){e.next=7;break}return e.abrupt("return",!1);case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)}))),[f.mutate,w.id]);return h.error?Object(T.jsxs)("span",{children:["Error while loading eventtypes: ",h.error.toString()]}):Object(T.jsxs)(r.Fragment,{children:[Object(T.jsxs)(y.a,{children:[Object(T.jsx)(x.a,{headingLevel:"h1",children:Object(T.jsxs)(A.a,{children:[Object(T.jsx)(B.a,{target:"#",children:" Bundles "}),Object(T.jsx)(be,{to:it.bundle(null!==re&&void 0!==re?re:""),children:ce?ce.display_name:Object(T.jsx)(v.a,{})}),Object(T.jsxs)(B.a,{to:"#",isActive:!0,children:[" ",_.loading||200!==(null===(l=_.payload)||void 0===l?void 0:l.status)?Object(T.jsx)(v.a,{}):_.payload.value.displayName]})]})}),Object(T.jsxs)(D.a,{"aria-label":"Event types table",children:[Object(T.jsxs)(L.a,{children:[Object(T.jsx)(G.a,{children:Object(T.jsx)(N.a,{children:Object(T.jsx)(P.a,{children:Object(T.jsx)(S.a,{variant:"primary",type:"button",isDisabled:!de||!m(null===de||void 0===de?void 0:de.id),onClick:function(){$(!0),ee(!1),I({})},children:" Create Event Type "})})})}),Object(T.jsx)(M.a,{children:["Event Type","Name","Event Type Id"].map((function(e,t){return Object(T.jsx)(U.a,{children:e},t)}))})]}),Object(T.jsx)(F.a,{children:0===(null===(o=h.data)||void 0===o?void 0:o.length)?"There are no event types found for this application":""}),Object(T.jsx)(F.a,{children:null===(c=h.data)||void 0===c?void 0:c.map((function(e){return Object(T.jsxs)(M.a,{children:[Object(T.jsx)(H.a,{children:e.displayName}),Object(T.jsx)(H.a,{children:e.name}),Object(T.jsx)(H.a,{children:e.id}),Object(T.jsx)(H.a,{children:Object(T.jsxs)(S.a,{className:"edit",type:"button",variant:"plain",isDisabled:!de||!m(null===de||void 0===de?void 0:de.id),onClick:function(){return function(e){$(!0),ee(!0),I(e)}(e)},children:[" ",Object(T.jsx)(k.a,{})," "]})}),Object(T.jsx)(H.a,{children:Object(T.jsxs)(S.a,{className:"delete",type:"button",variant:"plain",isDisabled:!de||!m(null===de||void 0===de?void 0:de.id),onClick:function(){return function(e){le(!0),I(e)}(e)},children:[Object(T.jsx)(q.a,{})," "]})})]},e.id)}))})]})]}),b&&Object(T.jsx)(ae,{application:null!==(s=null===de||void 0===de?void 0:de.displayName)&&void 0!==s?s:""}),Object(T.jsx)(se,{isEdit:Z,initialEventType:w,showModal:W,applicationName:null===de||void 0===de?void 0:de.displayName,onClose:function(){$(!1),h.reload()},onSubmit:pe,isLoading:h.loading}),Object(T.jsx)(ue,{onDelete:me,isOpen:ie,onClose:function(){le(!1),h.reload()},eventTypeName:w.name,applicationName:null===de||void 0===de?void 0:de.displayName,bundleName:null===ce||void 0===ce?void 0:ce.display_name})]})}},{path:it.bundle(":bundleId"),component:function(){var e,t,a,n,l=J(),o=l.hasPermission,c=l.refresh,s=l.isAdmin,m=Object(O.g)().bundleId,b=function(e){var t=Object(u.useQuery)(i.InternalResourceGetBundle.actionCreator({bundleId:e})),a=Object(r.useMemo)((function(){var e=t.payload;if(e)return Be(e)}),[t.payload]);return Object(r.useMemo)((function(){return Object(z.a)(Object(z.a)({},t),{},{payload:a})}),[t,a])}(m),j=function(e){var t=Object(u.useQuery)(i.InternalResourceGetApplications.actionCreator({bundleId:e})),a=Object(r.useMemo)((function(){var e=t.payload;if(e)return Ae(e)}),[t.payload]);return Object(r.useMemo)((function(){return Object(z.a)(Object(z.a)({},t),{},{payload:a})}),[t,a])}(m),h=Object(u.useMutation)(Ce),_=Object(u.useMutation)(Ve),f=r.useState({}),g=Object(p.a)(f,2),E=g[0],R=g[1],w=r.useState(!1),I=Object(p.a)(w,2),Q=I[0],Y=I[1],W=r.useState(!1),$=Object(p.a)(W,2),K=$[0],X=$[1],Z=r.useState(!1),ee=Object(p.a)(Z,2),te=ee[0],ae=ee[1],ne=r.useMemo((function(){var e;if(200===(null===(e=b.payload)||void 0===e?void 0:e.status))return b.payload.value}),[null===(e=b.payload)||void 0===e?void 0:e.status,null===(t=b.payload)||void 0===t?void 0:t.value]),ie=r.useCallback((function(e){var t,a;Y(!1),(0,h.mutate)({id:e.id,displayName:null!==(t=e.displayName)&&void 0!==t?t:"",name:null!==(a=e.name)&&void 0!==a?a:"",bundleId:m,ownerRole:e.ownerRole}).then((function(e){var t;return 200!==(null===(t=e.payload)||void 0===t?void 0:t.status)||s||c(),e})).then(j.query)}),[m,j.query,h.mutate,s,c]),le=r.useCallback(Object(V.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X(!1),t=_.mutate,e.next=4,t(E.id);case 4:if(!e.sent.error){e.next=7;break}return e.abrupt("return",!1);case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)}))),[E.id,_.mutate]);return j.loading?Object(T.jsx)(v.a,{}):200!==(null===(a=j.payload)||void 0===a?void 0:a.status)?Object(T.jsxs)("span",{children:["Error while loading applications: ",j.errorObject.toString()]}):Object(T.jsxs)(r.Fragment,{children:[Object(T.jsxs)(y.a,{children:[Object(T.jsx)(x.a,{headingLevel:"h1",children:Object(T.jsxs)(A.a,{children:[Object(T.jsx)(B.a,{target:"#",children:" Bundles "}),Object(T.jsx)(B.a,{target:"#",children:b.loading||200!==(null===(n=b.payload)||void 0===n?void 0:n.status)?Object(T.jsx)(v.a,{}):b.payload.value.displayName})]})}),Object(T.jsxs)(D.a,{"aria-label":"Applications table",children:[Object(T.jsxs)(L.a,{children:[Object(T.jsx)(G.a,{children:Object(T.jsx)(N.a,{children:Object(T.jsxs)(P.a,{children:[Object(T.jsx)(S.a,{variant:"primary",type:"button",onClick:function(){Y(!0),ae(!1),R({})},children:" Create Application "}),Q&&Object(T.jsx)(xe,{isEdit:te,bundleName:null===ne||void 0===ne?void 0:ne.displayName,initialApplication:E,showModal:Q,applicationName:E.displayName,onClose:function(){Y(!1),R({}),j.query()},onSubmit:ie,isLoading:j.loading}),Object(T.jsx)(r.Fragment,{children:Object(T.jsx)(Re,{onDelete:le,isOpen:K,onClose:function(){X(!1),j.query()},applicationName:E.displayName,bundleName:null===ne||void 0===ne?void 0:ne.displayName})})]})})}),Object(T.jsx)(M.a,{children:["Application","Name","Event Types","Application Id"].map((function(e,t){return Object(T.jsx)(U.a,{children:e},t)}))})]}),Object(T.jsx)(F.a,{children:j.payload.value.map((function(e){return Object(T.jsxs)(M.a,{children:[Object(T.jsx)(H.a,{children:Object(T.jsx)(S.a,{variant:"link",component:function(t){return Object(T.jsx)(d.b,Object(z.a)(Object(z.a)({},t),{},{to:it.application(e.id)}))},children:e.displayName})}),Object(T.jsx)(H.a,{children:e.name}),Object(T.jsx)(H.a,{children:Object(T.jsx)(Ie,{appId:e.id})}),Object(T.jsx)(H.a,{children:e.id}),Object(T.jsx)(H.a,{children:Object(T.jsxs)(S.a,{className:"edit",type:"button",variant:"plain",isDisabled:!o(e.id),onClick:function(){return function(e){Y(!0),ae(!0),R(e)}(e)},children:[" ",Object(T.jsx)(k.a,{})," "]})}),Object(T.jsx)(H.a,{children:Object(T.jsxs)(S.a,{className:"delete",type:"button",variant:"plain",isDisabled:!s,onClick:function(){return function(e){X(!0),R(e)}(e)},children:[Object(T.jsx)(q.a,{})," "]})})]},e.id)}))})]})]}),Object(T.jsx)(De,{bundleId:m,bundle:null===ne||void 0===ne?void 0:ne.displayName})]})}},{path:it.email(),component:function(){var e,t,a,n=Object(u.useMutation)(Ze),i=r.useState(et),l=Object(p.a)(i,2),o=l[0],c=l[1],s=r.useState(tt),d=Object(p.a)(s,2),m=d[0],b=d[1],j=r.useState(at),v=Object(p.a)(j,2),h=v[0],_=v[1];if(r.useEffect((function(){(0,n.mutate)({subject:null!==o&&void 0!==o?o:"",body:null!==m&&void 0!==m?m:"",payload:null!==h&&void 0!==h?h:""})}),[]),n.loading)a={isLoading:!0};else if(200===(null===(e=n.payload)||void 0===e?void 0:e.status)){var f,O;a={isLoading:!1,succeeded:!0,subject:null!==(f=n.payload.value.subject)&&void 0!==f?f:"",body:null!==(O=n.payload.value.body)&&void 0!==O?O:""}}else if(400===(null===(t=n.payload)||void 0===t?void 0:t.status)){var g;a={isLoading:!1,succeeded:!1,error:null!==(g=n.payload.value.message)&&void 0!==g?g:"Unknown error"}}else a={isLoading:!1,succeeded:!1,error:"Unknown error"};var R=r.useCallback((function(){(0,n.mutate)({subject:null!==o&&void 0!==o?o:"",body:null!==m&&void 0!==m?m:"",payload:null!==h&&void 0!==h?h:""})}),[n.mutate,o,m,h]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(y.a,{children:Object(T.jsxs)(Le.a,{children:[Object(T.jsx)(Me.a,{isFilled:!0,children:Object(T.jsx)(x.a,{headingLevel:"h1",children:"Email templates"})}),Object(T.jsx)(Me.a,{children:Object(T.jsx)(S.a,{onClick:R,children:"Render"})})]})}),Object(T.jsx)(y.a,{children:Object(T.jsxs)(Je.a,{children:[Object(T.jsx)(Ye.a,{children:Object(T.jsx)(x.a,{headingLevel:"h2",children:"Result"})}),Object(T.jsx)(nt,Object(z.a)({},a))]})}),Object(T.jsxs)(y.a,{children:[Object(T.jsx)(x.a,{headingLevel:"h2",children:"Subject template"}),Object(T.jsx)(E.a,{isLineNumbersVisible:!0,isMinimapVisible:!1,code:et,height:"50px",onChange:c})]}),Object(T.jsxs)(y.a,{children:[Object(T.jsx)(x.a,{headingLevel:"h2",children:"Body template"}),Object(T.jsx)(E.a,{isLineNumbersVisible:!0,isMinimapVisible:!1,code:tt,height:"300px",onChange:b})]}),Object(T.jsxs)(y.a,{children:[Object(T.jsx)(x.a,{headingLevel:"h2",children:"Payload"}),Object(T.jsx)(E.a,{isLineNumbersVisible:!0,isMinimapVisible:!1,code:at,height:"300px",isLanguageLabelVisible:!0,language:E.b.json,onChange:_})]})]})}},{path:it.emailTemplates(),component:function(){var e=J().isAdmin,t=r.useCallback((function(){history.back()}),[]);return Object(T.jsx)(T.Fragment,{children:e&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(y.a,{children:Object(T.jsx)(Le.a,{children:Object(T.jsx)(Me.a,{isFilled:!0,children:Object(T.jsx)(x.a,{headingLevel:"h1",children:"Create an Email Template"})})})}),Object(T.jsxs)(y.a,{children:[Object(T.jsx)(x.a,{headingLevel:"h2",children:"Subject template"}),Object(T.jsx)(E.a,{isLineNumbersVisible:!0,code:Ue,isMinimapVisible:!1,height:"50px"})]}),Object(T.jsxs)(y.a,{children:[Object(T.jsx)(x.a,{headingLevel:"h2",children:"Body template"}),Object(T.jsx)(E.a,{isLineNumbersVisible:!0,code:Fe,isMinimapVisible:!1,height:"300px"})]}),Object(T.jsxs)(y.a,{children:[Object(T.jsx)(x.a,{headingLevel:"h2",children:"Payload"}),Object(T.jsx)(E.a,{isLineNumbersVisible:!0,isMinimapVisible:!1,code:He,height:"300px",isLanguageLabelVisible:!0,language:E.b.json})]}),Object(T.jsx)(y.a,{children:Object(T.jsx)(ee.a,{children:Object(T.jsxs)(Le.a,{hasGutter:!0,children:[Object(T.jsx)(Me.a,{children:Object(T.jsx)(S.a,{variant:"primary",type:"submit",children:"Submit"})}),Object(T.jsx)(Me.a,{children:Object(T.jsx)(S.a,{variant:"secondary",type:"reset",onClick:t,children:"Back"})})]})})})]})})}},{path:it.messageValidator(),component:function(){var e,t,a=Object(u.useParameterizedQuery)(i.ValidationResourceValidateMessage.actionCreator),n=r.useState(Ke),l=Object(p.a)(n,2),o=l[0],c=l[1],s=r.useState(),d=Object(p.a)(s,2),m=d[0],b=d[1],j=r.useCallback(Object(V.a)(C.a.mark((function e(){var t,n,i,l;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,i=JSON.parse(o),e.next=9;break;case 4:return e.prev=4,e.t0=e.catch(0),console.log(e.t0),b({errors:{$:["Not a valid json: "+e.t0.message]},code:o}),e.abrupt("return");case 9:return e.next=11,a.query({body:i});case 11:l=e.sent,200===(null===(t=l.payload)||void 0===t?void 0:t.status)?b({errors:{},code:o}):400===(null===(n=l.payload)||void 0===n?void 0:n.status)&&b({errors:l.payload.value.errors,code:o});case 13:case"end":return e.stop()}}),e,null,[[0,4]])}))),[a,o]),v=Object(T.jsx)(g.a,{icon:Object(T.jsx)(We.a,{color:$e.a.value}),toolTipText:"Validates the message",onClick:j});return(null===m||void 0===m?void 0:m.code)===o?0===Object.keys(m.errors).length?(e=_.b.success,t="Message is valid"):(e=_.b.danger,t=Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{children:"Message is invalid:"}),Xe(m.errors)]})):(e=_.b.warning,t=Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{children:"Message has not been validated. Use the validation button"}),(null===m||void 0===m?void 0:m.errors)&&Object.keys(m.errors).length>0&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{children:"Previous errors:"}),Xe(m.errors)]})]})),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(y.a,{children:Object(T.jsxs)(Je.a,{children:[Object(T.jsx)(Ye.a,{isFilled:!0,children:Object(T.jsx)(x.a,{headingLevel:"h1",children:"Notification validator"})}),Object(T.jsx)(Ye.a,{children:Object(T.jsx)("span",{children:"You can use this utility to verify the notification you are sending is valid and tweak as needed."})})]})}),Object(T.jsxs)(y.a,{children:[Object(T.jsx)(_.a,{isInline:!0,title:t,variant:e}),Object(T.jsx)(E.a,{showEditor:!0,isUploadEnabled:!0,isDownloadEnabled:!0,isCopyEnabled:!0,isMinimapVisible:!1,customControls:v,code:o,height:"500px",isLanguageLabelVisible:!0,language:E.b.json,onChange:c})]})]})}}],rt=function(e){return Object(T.jsxs)(O.d,{children:[lt.map((function(e){return Object(T.jsx)(O.b,{component:e.component,path:e.path},e.path)})),Object(T.jsx)(O.a,{to:it.aggregation()})]})},ot=a(4),ct=a(692),st=a(683),ut=a(230),dt=a(699),pt=a(684),mt=function(e){var t=Object(O.h)({path:e.to,exact:!0});return Object(T.jsx)(st.a,{isActive:!!t,children:Object(T.jsx)(d.b,{to:e.to,children:e.children})})},bt=function(e){return Object(T.jsx)(ut.a,{children:Object(T.jsxs)(dt.a,{children:[Object(T.jsx)(pt.a,{title:"Bundles",children:e.bundles.map((function(e){return Object(T.jsx)(mt,{to:it.bundle(e.id),children:e.displayName},e.id)}))}),Object(T.jsx)(pt.a,{title:"Utils",isExpanded:!0,children:Object(T.jsx)(mt,{to:it.messageValidator(),children:"Notification validator"})}),Object(T.jsx)(mt,{to:it.email(),children:"Email templates"}),Object(T.jsx)(mt,{to:it.aggregation(),children:"Aggregation"})]})})},jt=a.p+"static/media/redhat-logo.f7405300.svg",yt=Object(f.a)({width:150}),vt=function(){var e=o.a.useState(!0),t=Object(p.a)(e,2),a=t[0],n=t[1],l=o.a.useCallback((function(){return n((function(e){return!e}))}),[n]),c=function(){var e=Object(u.useClient)(),t=Object(ct.a)(),a=Object(r.useState)([]),n=Object(p.a)(a,2),l=n[0],o=n[1],c=Object(r.useState)(),s=Object(p.a)(c,2),d=s[0],m=s[1],b=Object(r.useCallback)(Object(V.a)(C.a.mark((function a(){var n,l,r,c,s,u,d,p,b,j;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return l=e.query,m(!0),a.next=4,l(i.InternalResourceGetBundles.actionCreator());case 4:if(r=a.sent,200!==(null===(n=r.payload)||void 0===n?void 0:n.status)){a.next=18;break}c=r.payload.value.map((function(e){var t;return{id:null!==(t=e.id)&&void 0!==t?t:"",displayName:e.display_name,applications:[]}})),s=[],u=Object(ot.a)(r.payload.value);try{for(u.s();!(d=u.n()).done;)(p=d.value).id&&s.push(l(i.InternalResourceGetApplications.actionCreator({bundleId:p.id})))}catch(y){u.e(y)}finally{u.f()}return a.next=12,Promise.all(s);case 12:return b=a.sent,j=b.map((function(e){return e.payload})).reduce((function(e,t){return Object(_e.a)(e,(function(e){if(200===(null===t||void 0===t?void 0:t.status)){var a=e.find((function(e){return t.value.length>0&&e.id===t.value[0].bundle_id}));a&&(a.applications=t.value.map((function(e){var t;return{id:null!==(t=e.id)&&void 0!==t?t:"",displayName:e.display_name,name:e.name,bundleId:e.bundle_id}})))}}))}),c),a.next=16,t(Promise.resolve((function(){return o(j)})));case 16:a.t0=a.sent,(0,a.t0)();case 18:m(!1);case 19:case"end":return a.stop()}}),a)}))),[e.query,t]);return Object(r.useEffect)((function(){b()}),[b]),{bundles:l,isLoading:d}}(),s=Object(u.useQuery)(i.InternalResourceGetServerInfo.actionCreator()),d=Object(r.useMemo)((function(){var e=s.payload;return 200===(null===e||void 0===e?void 0:e.status)?"PROD"===e.value.environment?{show:!0,content:"You are viewing the production environment - Any change you make here will be applied immediately and could disrupt the service."}:{show:!1}:{show:!0,content:"Could not load the current environment. Please verify the URL before making any change."}}),[s.payload]),f=Object(u.useQuery)(i.InternalPermissionResourceGetPermissions.actionCreator()),O=Object(T.jsx)(m.a,{showNavToggle:!0,logo:Object(T.jsx)(b.a,{className:yt,src:jt,alt:"Red Hat"}),logoProps:{href:"/internal"},isNavOpen:a,onNavToggle:l}),g=o.a.useMemo((function(){var e=f.payload;return 200===(null===e||void 0===e?void 0:e.status)?{isAdmin:e.value.is_admin,applications:e.value.applications.map((function(e){return{id:e.id,displayName:e.display_name}})),roles:e.value.roles,refresh:f.query}:{isAdmin:!1,applications:[],roles:[],refresh:f.query}}),[f.payload,f.query]);if(c.isLoading||s.loading||f.loading)return Object(T.jsx)(j.a,{header:O,children:Object(T.jsx)(y.a,{children:Object(T.jsx)(v.a,{})})});var E=Object(T.jsx)(h.a,{nav:Object(T.jsx)(bt,{bundles:c.bundles}),isNavOpen:a});return Object(T.jsx)(Q.Provider,{value:g,children:Object(T.jsxs)(j.a,{sidebar:E,header:O,children:[d.show&&Object(T.jsx)(y.a,{children:Object(T.jsx)(_.a,{variant:_.b.warning,title:d.content})}),Object(T.jsx)(rt,{})]})})},ht=Object(u.createClient)({responseInterceptors:[l.validateSchemaResponseInterceptor]});s.a.render(Object(T.jsx)(r.StrictMode,{children:Object(T.jsx)(d.a,{children:Object(T.jsx)(u.ClientContextProvider,{client:ht,children:Object(T.jsx)(vt,{})})})}),document.getElementById("root"))}},[[639,1,2]]]);
//# sourceMappingURL=main.953abf1f.chunk.js.map